{% extends 'base.html.twig' %}

{% block title %}Trick
{% endblock %}

{% block body %}
	<div class="container h-100">
		<div class="row align-items-center h-100">
			<div class="col-12">
				<h1 class="text-center my-3">Trick :
					{{ trick.name }}</h1>
		<div class="d-flex justify-content-center">
	
				<figure class="figure">
					<img class="figure-img img-fluid rounded w-100" src="{{ asset('uploads/' ~ trick.pictures|first)}}" alt="{{trick.name}}">
					<figcaption class="figure-caption">
						Par :
						{{ trick.user }}
						| Ajouté le :
						{{ trick.createdAt ? trick.createdAt|date('d/m/Y à h\\hi') : '' }}
						| Catégorie :
						{{ trick.category }}
						| Commentaires :
						{{ trick.comments|length }}
						
					</figure>
				</div>
				<p>{{ trick.description|raw }}</p>
	

			</div>
		</div>

	</div>
	<!--COMMENTAIRES-->

	<div class="container">
		<div class="row">
			<div class="col">
				<h4>liste des commentaire</h4>
				{% for comment in  trick.comments %}
					<div class="card mb-4">
						<div class="card-body">
							<p>{{ comment.content|raw }}</p>
							<p>{{ comment.createdAt ? comment.createdAt|date('d/m/Y à h\\hi') : '' }}</p>
						</div>
					</div>
				{% endfor %}
			</div>
		</div>
		<div class="row">
			<div class="col">
				<h4>Ajouter un commentaire</h4>
				<div class="card">
					<div class="card-body">
						{{ form_start(commentForm) }}
						{{ form_widget(commentForm)}}
						<button type="submit" class="btn btn-primary" style="width:150px">Envoyer</button>
						{{ form_end(commentForm) }}
					</div>
				</div>
			</div>
		</div>

	</div>

	<div class="row justify-content-around">
		<a href="{{ path('trick_index') }}" class="btn btn-secondary" style="width:150px">back to list</a>
	</div>
{% endblock %}
